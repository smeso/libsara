.\" Man page generated from reStructuredText.
.
.TH "SARA.H" "3" "November 14, 2017" "0.1" "S.A.R.A."
.SH NAME
sara.h \- S.A.R.A.'s helper library.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSYS
.sp
\fB#include <sara.h>\fP
.SH DESCRIPTION
.sp
\fIlibsara\fP can be used to query or change S.A.R.A.\(aqs WX Protections flags.
Please remember that protection can\(aqt be softened via this interface and
you will only be allowed to add or remove a flag if and only if that action
won\(aqt make the thread less secure.
The VERBOSE flag can\(aqt be changed and any attempt to do this will be silently
ignored. Any other violation will result in an error.
Please always check the return value of \fBset_wxprot_self_flags\fP,
\fBadd_wxprot_self_flags\fP and \fBrm_wxprot_self_flags\fP\&.
A thread can only query its own flags, unless it has CAP_MAC_ADMIN.
Also, it can only change its own flags, regardless of the capabilities it has.
Be aware that, while the flags change will only affect the current thread,
the changes forced by \fBSARA_FORCE_WXORX\fP will affect the whole process.
For more information please see \fIsara(7)\fP\&.
.sp
The <sara.h> header shall define the following:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
SARA_ERROR
SARA_HEAP
SARA_STACK
SARA_OTHER
SARA_WXORX
SARA_COMPLAIN
SARA_VERBOSE
SARA_MMAP
SARA_FORCE_WXORX
SARA_EMUTRAMP
SARA_TRANSFER
SARA_NONE
SARA_MPROTECT
SARA_FULL
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The following shall be declared as functions and may also be defined
as macros. Function prototypes shall be provided.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
int set_wxprot_self_flags(uint16_t flags);
int add_wxprot_self_flags(uint16_t flags);
int rm_wxprot_self_flags(uint16_t flags);
uint16_t get_wxprot_flags(pid_t pid);
uint16_t get_wxprot_self_flags(void);
int is_emutramp_active(void);
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SEE ALSO
.sp
\fIsara(7)\fP, \fIwxprot.conf(5)\fP, \fIsaractl(8)\fP,
\fIsara\-xattr(8)\fP and <\fI\%https://sara.smeso.it\fP>
.SH AUTHOR
Salvatore Mesoraca
.SH COPYRIGHT
2017, Salvatore Mesoraca (https://smeso.it)
.\" Generated by docutils manpage writer.
.
